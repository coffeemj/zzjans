---
layout: post
title: "Webpack에 대해 알기에 앞서.."
date: 2021-08-15 22:19:00 +0900
categories: Webpack
---

Webpack의 개념에 대해 알아보기에 앞서서 알아둬야 할 개념에 대해 정리를 해보면..

### 모듈 로더(Module Loader)

모듈 포맷으로 작성된 모듈을 해석하고 로드해서 런타임에서 실행해서 클라이언트 사이드에서 불러오는 기능을 한다. 모듈로더의 문제점은 모둘 10개를 호출하면 스크립트 태그가 10개 추가되어 모든 파일을 불러오는데 시간이 걸린다는 것이다. 또한 라이브러리 dependency로 스크립트 간 로드 순서가 정해져있을 때도 있다.

### 모듈 번들러(Module Bundler)

모듈 로더를 대체하기 위한 것이 모듈 번들러이다. 모듈 번들러는 빌드과정의 문제를 해결해주는데, 라이브러리의 js파일과 직접 짠 js코드를 하나의 js로 묶어주는(bundling) 역할을 한다. 모듈 번들러로 유명한 tool은 webpack, parcel 등이 있다. 클라이언트 사이드에서 js파일을 1개만 불러와도 돼서 시간적인 면에서 이점이 있다. 또한 대부분의 브라우저에서 자바스크립트 모듈을 받아들이지 않기 때문에 require처럼 브라우저에서 해석하지 못하는 js문법을 실제로 필요한 파일의 콘텐츠로 바꿔주는 역할도 해준다. 모듈 번들러의 결과로는 require 없는 단일 번들 js파일이 나오게 된다. 뿐만 아니라 webpack은 같은 유형의 파일(css, js 등)은 하나로 묶을 수 있다.

모듈 번들러는 컴파일 시간에 번들파일 생성을 위해 실행된다. 브라우저에선 이 결과물로 나온 번들파일을 로드하는 것이다.

#### Module Bundler의 장점

- 브라우저에서 해석하지 못하는 모듈 import, require 등의 문법을 알아서 바꿔준다.
- 같은 유형의 파일은 하나로 묶을 수 있다.
- 네트워크 병목현상 해결에 도움을 준다.
- 모듈 단위 개발이 가능하다.
- 라이브러리 dependency 순서와 스크립트 load 순서를 고려하지 않아도 된다.
- 각 모듈의 스코프가 보장된다.
- 코드의 압축, 최적화가 가능하다.

### 태스크 러너(Task Runner)

태스크 러너는 빌드과정의 여러 부분을 자동화해준다. 프로그램 개발에 수반되는 반복작업들을 스크립트로 작성해 한 번에 실행하게끔 도와준다. 번들링이나 불필요한 공백제거, js파일 난독화 등의 원하는 작업들을 작성해둘 수 있다. 태스크 러너로 gulp를 사용하기도하고(build system만 담당해서 package manager로 npm이나 yarn등을 같이 사용해야 함), package.json 내의 scripts 부분에 키워드와 명령어를 같이 쓰는 식으로도 빌드과정을 단축시킨다. npm scripts로 단축했을 때 장점은 다른 태스크러너의 환경설정이나 규칙에 얽매일 필요없이 package.json을 통해 중앙화된 패키지 관리와 번들링 수행이 가능하다는 것이다. 반복 가능한 특정 작업을 자동화해서 나중에 그 작업들을 실행해야 할 때 미리 정의해둔 키워드로 작업을 실행하는 것이다.

라면을 끓이는 명령어를 작성한다고 하면,

```text
냄비 준비

물 끓이기

면과 스프 넣기

더 끓이기
```

위의 과정을

```json
{
  "script": {
    "ramyeon": "냄비 준비 && 물 끓이기 && 면과 스프 넣기 && 더 끓이기"
  }
}
```

이렇게 단축시킬 수 있다. npm run ramyeon 커맨드로 라면을 끓여주는 것이다.
